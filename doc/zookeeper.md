# zookeeper

## 部署

### 运用场景

### 为什么要奇数台

### 如何选出leader

zxid(事务id,写操作会产生事务id),事务id一样，选取myid最大的，不允许一样的myid，投票会把zxid和myid当参数投票出去，开始会投给自己，发现比自己大以后投给别人，过半数选出leader

### 节点类型（持久，暂时）

### 节点四种类型

### 监听一次只能有效一次吗

### stat

### 监听原理

### 写数据原理

### 持久化

日志+拍照

### zab协议

+ 领导
+ 过半机制
+ 2pc
+ 数据同步